"use strict";const t=require("../../common/vendor.js"),e={data:()=>({showSettings:!1,showLoginModal:!1,showLogoutPopover:!1,showLogoutConfirm:!1,tempAvatar:"https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwBHJrRn5sz76hQ339wc65pW7k99B8Z8qFk1x7elP5K6X7w/0",tempNickname:"",LEVEL_SYSTEM:[{min:1,max:3,title:"æ–°æ‰‹åŠ©æ•™",icon:"ðŸŒ±",desc:"èƒ½å®ŒæˆåŸºç¡€ç”Ÿæˆï¼Œéœ€äººå·¥å¼•å¯¼",colorClass:"gradient-green-light"},{min:4,max:7,title:"ç†Ÿæ‚‰åŠ©æ•™",icon:"ðŸŒ¿",desc:"è®°ä½ä½ çš„ä¹ æƒ¯ï¼Œå‡å°‘é‡å¤æ“ä½œ",colorClass:"gradient-green-mid"},{min:8,max:12,title:"ä¸“å±žåŠ©æ•™",icon:"ðŸŒ³",desc:"ä¸»åŠ¨æŽ¨èåœºæ™¯ï¼Œæ™ºèƒ½é¢„åˆ¤éœ€æ±‚",colorClass:"gradient-green-dark"}]}),computed:{userStats(){return this.$store.state},userInfo(){return this.$store.state.userInfo},hasLogin(){return this.$store.state.hasLogin},currentLevelConfig(){return this.LEVEL_SYSTEM.find((t=>this.userStats.level>=t.min&&this.userStats.level<=t.max))||this.LEVEL_SYSTEM[0]},progressWidth(){return Math.min(this.userStats.exp/600*100,100)}},methods:{updateBookStatus(t){this.$store.commit("setBookStatus",t)},handleLogout(){this.showLogoutConfirm=!0,this.showLogoutPopover=!1},confirmLogout(){this.$store.commit("logout"),this.showLogoutConfirm=!1,this.showSettings=!1,t.index.reLaunch({url:"/pages/indievolve/onboarding"})},cancelLogout(){this.showLogoutConfirm=!1},handleAvatarClick(){this.hasLogin?this.showLogoutPopover=!this.showLogoutPopover:this.showLoginModal=!0},closeLogoutPopover(){this.showLogoutPopover=!1},handleHeaderClick(){this.hasLogin||(this.showLoginModal=!0)},onChooseAvatar(t){this.tempAvatar=t.detail.avatarUrl},onNicknameBlur(t){this.tempNickname=t.detail.value},saveProfile(){this.tempNickname?(this.$store.commit("updateUserInfo",{avatarUrl:this.tempAvatar,nickName:this.tempNickname}),this.showLoginModal=!1,t.index.showToast({title:"ç™»å½•æˆåŠŸ",icon:"success"})):t.index.showToast({title:"è¯·è¾“å…¥æ˜µç§°",icon:"none"})}}};const o=t._export_sfc(e,[["render",function(e,o,s,a,i,n){return t.e({a:i.showSettings,showLogoutConfirm:i.showLogoutConfirm,cancelLogout:t.o((...t)=>n.cancelLogout&&n.cancelLogout(...t)),confirmLogout:t.o((...t)=>n.confirmLogout&&n.confirmLogout(...t))},i.showSettings?t.e({b:t.o((t=>i.showSettings=!1)),c:n.userStats.hasBook},(n.userStats.hasBook,{}),{d:t.n(n.userStats.hasBook?"active":""),e:t.n(n.userStats.hasBook?"active":""),f:t.o((t=>n.updateBookStatus(!0))),g:!n.userStats.hasBook},(n.userStats.hasBook,{}),{h:t.n(n.userStats.hasBook?"":"active"),i:t.n(n.userStats.hasBook?"":"active"),j:t.o((t=>n.updateBookStatus(!1))),k:t.o((t=>i.showSettings=!1)),l:n.hasLogin},n.hasLogin?{m:t.o(((...t)=>n.handleLogout&&n.handleLogout(...t)))}:{}):i.showLoginModal?{o:t.o((t=>i.showLoginModal=!1)),p:i.tempAvatar,q:t.o(((...t)=>n.onChooseAvatar&&n.onChooseAvatar(...t))),r:t.o(((...t)=>n.onNicknameBlur&&n.onNicknameBlur(...t))),s:i.tempNickname,t:t.o((t=>i.tempNickname=t.detail.value)),v:t.o(((...t)=>n.saveProfile&&n.saveProfile(...t)))}:t.e({w:t.t(n.hasLogin?n.userInfo.nickName+"çš„å·¥ä½œå°":"æ¬¢è¿Žæ¥åˆ°å°æ ‘AI"),x:t.t(n.hasLogin?"ä»Šå¤©ä¹Ÿæ˜¯å……æ»¡èƒ½é‡çš„ä¸€å¤© ðŸ’ª":"ç‚¹å‡»æ­¤å¤„ç™»å½•ï¼Œå¼€å¯AIä¹‹æ—…"),y:t.o((t=>i.showSettings=!0)),z:n.hasLogin&&n.userInfo.avatarUrl},n.hasLogin&&n.userInfo.avatarUrl?{A:n.userInfo.avatarUrl}:{},{B:t.o(((...t)=>n.handleHeaderClick&&n.handleHeaderClick(...t))),C:t.t(n.currentLevelConfig.icon),D:t.t(n.userStats.level),E:t.t(n.currentLevelConfig.title),F:t.t(n.currentLevelConfig.desc),G:t.t(n.userStats.exp),H:n.progressWidth+"%",I:t.n(n.currentLevelConfig.colorClass),handleAvatarClick:t.o((...t)=>n.handleAvatarClick&&n.handleAvatarClick(...t)),showLogoutPopover:i.showLogoutPopover,handleLogout:t.o((...t)=>n.handleLogout&&n.handleLogout(...t))}),{n:i.showLoginModal})}],["__scopeId","data-v-40ca6bb6"]]);wx.createPage(o);
